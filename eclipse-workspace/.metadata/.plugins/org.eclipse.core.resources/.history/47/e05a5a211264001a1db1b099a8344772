package SpaceInvaders;
import java.util.ArrayList;
import javafx.animation.AnimationTimer;
import javafx.application.Application;
import javafx.event.EventHandler;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.image.Image;
import javafx.scene.input.KeyCode;
import javafx.scene.input.KeyEvent;
import javafx.scene.paint.Color;
import javafx.stage.Stage;



public class Main extends Application {

	final double WIDTH = 600;
	final double HEIGHT = 650;
	public int xPos = 0;
	public Image alienImage = new Image(getClass().getResourceAsStream("/res/Alien3.png"));
	public Image shipImage = new Image(getClass().getResourceAsStream("/res/Ship.png"));
	public Image alienImage2 = new Image(getClass().getResourceAsStream("/res/Alien2.png"));
	public Image alienImage3 = new Image(getClass().getResourceAsStream("/res/Alien.png"));
	public static void main(String[] args) {
        launch(args);
}
	   
	    @Override
	    public void start(Stage stage) throws Exception {
	    
	    	//setting title and layout
	    	stage.setTitle("Space Invaders");
	    	Group root = new Group();
	    	
	    	//adding scene
	        Scene scene = new Scene(root, WIDTH, HEIGHT, Color.BLACK);
	        

	        
	        //Alien parameters: x,y,extend,health, alienImage, root
	        //Ship parameters: x,y,extend, health, shipImage, root
	        //TODO: CREATE SHIP WITH CORRECT STARTING LOCATION (HAVE A xPos in this class)
	        Ship Xship = new Ship(210, 550, 5, 3, shipImage, root);
	        Alien Xalien = new Alien(200, 300, 0, 1, alienImage, root);
	        Alien Xalien2 = new Alien(300, 300, 0, 1, alienImage2, root);
	        Alien Xalien3 = new Alien(400, 300, 0, 1, alienImage3, root);
	     
	        //TODO: CREATE ALIEN AND ALIEN ARRAYLIST

	       
	        
	        //TODO: Move ship object with keyboard 
	        scene.setOnKeyPressed(new EventHandler<KeyEvent>(){
	        	  @Override
	        	  public void handle(KeyEvent event){
	        		 //need to check bounds for ship movement and then key press
	        	    if (event.getCode() == KeyCode.RIGHT) {
	        	    	Xship.moveRight(xPos);;

	        	    } else if (event.getCode() == KeyCode.LEFT) {
	        	    	Xship.moveLeft(xPos);

       	    }
        	  }
	        	});
	      
	        stage.setScene(scene);
	        stage.show();
	        
	        AnimationTimer timer = new AnimationTimer() {
	            @Override
	            public void handle(long now) {
	            //need to smooth transition by entering updated location
	            
				}
	        };
	        timer.start();

	        
	      
}
}
	    
	  
	        